
<div data-ng-controller="trailController">

    <div class="glyphicons glyphicons-search" ng-if="!!fetching">
        <span>I'm fetching data. Please be patient.</span>
    </div>
    <div class="glyphicons glyphicons-search" ng-if="!fetching">
        <span>Fetching is complete.</span>
    </div>

    <div class="form-group search-wrap">
        <form role="search" data-ng-submit="search()">
            <div class="col-xs-9">
                <input type="text" class="form-control" placeholder="Search" data-ng-model="q">
            </div>
            <div class="col-xs-3">
                <input type="button" class="form-control" value="search">
            </div>
        </form>
    </div>

    <div class="">
        <a data-ng-href="#/trail/{{trail.id}}">
            <div data-ng-bind="trail.DifficultyTitle"></div>
            <span data-ng-bind="'season: ' + trail.season"></span>
        </a>
    </div>



</div>

<div id="map"></div>
    <script>

     var map;
	 var src = 'http://rahaeegallery.com/test/test.kml'

	 function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    center: new google.maps.LatLng(35.71, 51.40),
    zoom: 2,
    mapTypeId: google.maps.MapTypeId.TERRAIN
  });

	loadKmlLayer(src, map);
}

function loadKmlLayer(src, map) {
  var kmlLayer = new google.maps.KmlLayer(src, {
    suppressInfoWindows: true,
    preserveViewport: false,
    map: map
  });
  google.maps.event.addListener(kmlLayer, 'click', function(event) {
    var content = event.featureData.infoWindowHtml;
    var testimonial = document.getElementById('capture');
    testimonial.innerHTML = content;
  });
}

   </script>


    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDMYa2MeMowwvphSPuUurU0tXxuSh3OgcY&callback=initMap">
    </script>

